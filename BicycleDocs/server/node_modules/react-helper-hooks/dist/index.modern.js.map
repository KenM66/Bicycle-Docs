{"version":3,"file":"index.modern.js","sources":["../src/1-useToggle/useToggle.tsx","../src/9-useAsync/useAsync.tsx","../src/10-useFetch/useFetch.tsx","../src/101-useIsAppOffline/useIsAppOffline.tsx","../src/102-useWindowDimensions/useWindowDimensions.tsx","../src/11-useScript/useScript.tsx","../src/13-useEventListener/useEventListener.tsx","../src/14-useOnScreen/useOnScreen.tsx","../src/2-useTimeout/useTimeout.tsx","../src/3-useDebounce/useDebounce.tsx","../src/4-useUpdate/useUpdateEffect.tsx","../src/5-useArray/useArray.tsx","../src/6-usePrevious/usePrevious.tsx","../src/7-useStateWithHistory/useStateWithHistory.tsx","../src/8-useStorage/useStorage.tsx"],"sourcesContent":["import { useState } from 'react'\r\n\r\nexport default function useToggle(defaultValue) {\r\n    const [value, setValue] = useState(defaultValue);\r\n\r\n    function toggleValue(value) {\r\n        setValue(currentValue => typeof value === \"boolean\" ? value : !currentValue);\r\n    }\r\n\r\n    return [value, toggleValue];\r\n}\r\n","import React, { useEffect, useCallback, useState } from 'react'\r\n\r\nexport default function useAsync(callback, dependencies: any = []) {\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState();\r\n    const [value, setValue] = useState();\r\n\r\n    const callbackMemoized = useCallback(() => {\r\n        setLoading(true);\r\n        setError(undefined);\r\n        setValue(undefined);\r\n\r\n        callback()\r\n            .then(setValue)\r\n            .catch(setError)\r\n            .finally(() => setLoading(false))\r\n\r\n    }, dependencies);\r\n\r\n    useEffect(() => {\r\n        callbackMemoized()\r\n    }, [callbackMemoized]);\r\n\r\n    return { loading, error, value };\r\n}\r\n","import React from 'react'\r\nimport useAsync from './../9-useAsync/useAsync';\r\n\r\nconst DEFAULT_OPTIONS = {\r\n    headers: { \"Content-Type\": \"application/json\" }\r\n}\r\n\r\nexport default function useFetch(url, options = {}, dependencies: any = []) {\r\n    return useAsync(() => {\r\n        return fetch(url, { ...DEFAULT_OPTIONS, ...options }).then(res => {\r\n            if (res.ok) return res.json();\r\n            return res.json().then(json => Promise.reject(json))\r\n        })\r\n    }, dependencies);\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function useIsAppOffline() {\r\n    const [isAppOffline, setIsAppOffline] = useState(!navigator.onLine)\r\n\r\n    window.addEventListener('online', function (e) {\r\n        setIsAppOffline(false)\r\n    });\r\n\r\n    window.addEventListener('offline', function (e) {\r\n        setIsAppOffline(true)\r\n    });\r\n\r\n    return isAppOffline;\r\n}\r\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n    const { innerWidth: width, innerHeight: height } = window;\n\n    return {\n        isMobile: width <= 480,\n        isTablet: width >= 481 && width <= 768,\n        isLaptop: width >= 769 && width <= 1024,\n        isDesktop: width >= 1025 && width <= 1200,\n        isExtraLarge: width >= 1201,\n        width,\n        height\n    };\n}\n\nexport default function useWindowDimensions() {\n    const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\n\n    useEffect(() => {\n        function handleResize() {\n            setWindowDimensions(getWindowDimensions());\n        }\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowDimensions;\n}","import React from 'react'\r\nimport useAsync from '../9-useAsync/useAsync';\r\n\r\nexport default function useScript(url) {\r\n    return useAsync(() => {\r\n        const script = document.createElement(\"script\");\r\n        script.src = url;\r\n        script.async = true;\r\n\r\n        return new Promise((resolve, reject) => {\r\n            script.addEventListener(\"load\", resolve);\r\n            script.addEventListener(\"error\", reject);\r\n\r\n            document.body.appendChild(script);\r\n        })\r\n    }, [url])\r\n}\r\n","import React, { useEffect, useRef } from 'react'\r\n\r\nexport default function useEventListener(\r\n    eventType,\r\n    callback,\r\n    element = window\r\n) {\r\n    const callbackRef = useRef(callback);\r\n\r\n    useEffect(() => {\r\n        callbackRef.current = callback;\r\n    }, [callback]);\r\n\r\n    useEffect(() => {\r\n        const handler = e => callbackRef.current(e);\r\n        element.addEventListener(eventType, handler);\r\n\r\n        return () => element.removeEventListener(eventType, handler);\r\n    }, [eventType, element])\r\n}\r\n","import React, { useEffect, useState } from 'react'\n\nexport default function useOnScreen(ref, rootMargin = \"0px\") {\n\n    const [isVisible, setIsVisible] = useState(false);\n\n    useEffect(() => {\n        if (ref.current == null) return;\n\n        const observer = new IntersectionObserver(\n            ([entry]) => setIsVisible(entry.isIntersecting), { rootMargin }\n        );\n\n        observer.observe(ref.current);\n\n        return () => {\n            if (ref.current == null) return;\n            observer.unobserve(ref.current)\n        }\n\n    }, [ref.current, rootMargin])\n\n    return isVisible;\n}\n","import React, { useRef, useEffect, useCallback } from 'react'\r\n\r\nexport default function useTimeout(callback, delay) {\r\n    const callbackRef = useRef(callback);\r\n    const timeoutRef = useRef();\r\n\r\n    useEffect(() => {\r\n        callbackRef.current = callback\r\n    }, [callback]);\r\n\r\n    const set = useCallback(() => {\r\n        timeoutRef.current = setTimeout(() => callbackRef.current(), delay) as any;\r\n    }, [delay]);\r\n\r\n    const clear = useCallback(() => {\r\n        timeoutRef.current && clearTimeout(timeoutRef.current);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        set()\r\n        return clear;\r\n    }, [delay, set, clear]);\r\n\r\n    const reset = useCallback(() => {\r\n        clear();\r\n        set();\r\n    }, [clear, set]);\r\n\r\n    return { reset, clear };\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport useTimeout from '../2-useTimeout/useTimeout';\r\n\r\nexport default function useDebounce(callback, delay, dependencies) {\r\n    const { reset, clear } = useTimeout(callback, delay);\r\n    useEffect(reset, [...dependencies, reset]);\r\n    useEffect(clear, []);\r\n}\r\n","import React, { useRef, useEffect } from 'react'\r\n\r\nexport default function useUpdateEffect(callback, dependencies) {\r\n    const firstRendererRef = useRef(true);\r\n\r\n    useEffect(() => {\r\n        if (firstRendererRef.current) {\r\n            firstRendererRef.current = false;\r\n            return;\r\n        }\r\n        return callback();\r\n    }, [dependencies]);\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function useArray(defaultValue) {\r\n    const [array, setArray] = useState(defaultValue);\r\n\r\n    function push(element) {\r\n        setArray(a => [...a, element]);\r\n    }\r\n\r\n    function filter(callback) {\r\n        setArray(a => a.filter(callback));\r\n    }\r\n\r\n    function update(index, newElement) {\r\n        setArray(array.splice(index, 1, newElement) && [...array]);\r\n    }\r\n\r\n    function remove(index) {\r\n        setArray(array.filter((_, i) => index !== i));\r\n    }\r\n\r\n    function clear() {\r\n        setArray([]);\r\n    }\r\n\r\n    return { array, set: setArray, push, filter, update, remove, clear };\r\n}\r\n","import React, { useRef, useState } from 'react'\r\n\r\nexport default function usePrevious(value) {\r\n\r\n    const currentRef = useRef(value);\r\n    const previousRef = useRef();\r\n\r\n    if (currentRef.current !== value) {\r\n        previousRef.current = currentRef.current;\r\n        currentRef.current = value;\r\n    }\r\n    return previousRef.current; \r\n}\r\n","import React, { useCallback, useRef, useState } from 'react'\r\n\r\nexport default function useStateWithHistory(\r\n    defaultValue,\r\n    { capacity = 10 } = {}\r\n) {\r\n    const [value, setValue] = useState(defaultValue);\r\n    const historyRef = useRef([value]);\r\n    const pointerRef = useRef(0);\r\n\r\n    const set = useCallback(\r\n        (v) => {\r\n            const resolvedValue = typeof v === \"function\" ? v(value) : v;\r\n            if (historyRef.current[pointerRef.current] !== resolvedValue) {\r\n                if (pointerRef.current < historyRef.current.length - 1) {\r\n                    historyRef.current.splice(pointerRef.current + 1);\r\n                }\r\n                historyRef.current.push(resolvedValue);\r\n\r\n                while (historyRef.current.length > capacity) {\r\n                    historyRef.current.shift();\r\n                }\r\n                pointerRef.current = historyRef.current.length - 1;\r\n            }\r\n            setValue(resolvedValue);\r\n        },\r\n        [capacity, value],\r\n    );\r\n\r\n    const back = useCallback(() => {\r\n        if (pointerRef.current <= 0) return;\r\n        pointerRef.current--;\r\n        setValue(historyRef.current[pointerRef.current]);\r\n    }, []);\r\n\r\n    const forward = useCallback(() => {\r\n        if (pointerRef.current >= historyRef.current.length - 1) return;\r\n        pointerRef.current++;\r\n        setValue(historyRef.current[pointerRef.current]);\r\n    }, []);\r\n\r\n    const go = useCallback((index) => {\r\n        if (index < 0 || index >= historyRef.current.length - 1) return;\r\n        pointerRef.current = index;\r\n        setValue(historyRef.current[pointerRef.current]);\r\n    }, []);\r\n\r\n    return [\r\n        value,\r\n        set,\r\n        {\r\n            history: historyRef.current,\r\n            pointer: pointerRef.current,\r\n            back,\r\n            forward,\r\n            go\r\n        }\r\n    ]\r\n}\r\n","import React, { useCallback, useState, useEffect } from 'react'\r\n\r\nexport function useLocalStorage(key: string, defaultValue: any) {\r\n    return useStorage(key, defaultValue, window.localStorage);\r\n}\r\n\r\nexport function useSessionStorage(key: string, defaultValue: any) {\r\n    return useStorage(key, defaultValue, window.sessionStorage)\r\n}\r\n\r\nfunction useStorage(key: string, defaultValue: any, storageObject: Storage) {\r\n\r\n    const [value, setValue] = useState(() => {\r\n        const jsonValue = storageObject.getItem(key);\r\n        if (jsonValue !== null) return JSON.parse(jsonValue);\r\n\r\n        if (typeof jsonValue === \"function\") {\r\n            return defaultValue();\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (value === undefined) return storageObject.removeItem(key);\r\n        storageObject.setItem(key, JSON.stringify(value));\r\n    }, [key, value, storageObject]);\r\n\r\n\r\n    const remove = useCallback(() => {\r\n        setValue(undefined);\r\n    }, [])\r\n\r\n    return [value, setValue, remove]\r\n\r\n}\r\n"],"names":["useToggle","defaultValue","useState","value","setValue","toggleValue","currentValue","useAsync","callback","dependencies","loading","setLoading","error","setError","callbackMemoized","useCallback","undefined","then","useEffect","DEFAULT_OPTIONS","headers","useFetch","url","options","fetch","res","ok","json","Promise","reject","useIsAppOffline","navigator","onLine","isAppOffline","setIsAppOffline","window","addEventListener","e","getWindowDimensions","width","innerWidth","height","innerHeight","isMobile","isTablet","isLaptop","isDesktop","isExtraLarge","useWindowDimensions","windowDimensions","setWindowDimensions","handleResize","removeEventListener","useScript","script","document","createElement","src","async","resolve","body","appendChild","useEventListener","eventType","element","callbackRef","useRef","current","handler","useOnScreen","ref","rootMargin","isVisible","setIsVisible","observer","IntersectionObserver","entry","isIntersecting","observe","unobserve","useTimeout","delay","timeoutRef","set","setTimeout","clear","clearTimeout","reset","useDebounce","useUpdateEffect","firstRendererRef","useArray","array","setArray","push","a","filter","update","index","newElement","splice","remove","_","i","usePrevious","currentRef","previousRef","useStateWithHistory","capacity","historyRef","pointerRef","v","resolvedValue","length","shift","back","forward","go","history","pointer","useLocalStorage","key","useStorage","localStorage","useSessionStorage","sessionStorage","storageObject","jsonValue","getItem","JSON","parse","removeItem","setItem","stringify"],"mappings":";;SAEwBA,UAAUC;AAC9B,kBAA0BC,QAAQ,CAACD,YAAD,CAAlC;AAAA,MAAOE,KAAP;AAAA,MAAcC,QAAd;;AAEA,WAASC,WAAT,CAAqBF,KAArB;AACIC,IAAAA,QAAQ,CAAC,UAAAE,YAAY;AAAA,aAAI,OAAOH,KAAP,KAAiB,SAAjB,GAA6BA,KAA7B,GAAqC,CAACG,YAA1C;AAAA,KAAb,CAAR;AACH;;AAED,SAAO,CAACH,KAAD,EAAQE,WAAR,CAAP;AACH;;;;;;;;;;;;;;;;;;;;SCRuBE,SAASC,UAAUC;MAAAA;AAAAA,IAAAA,eAAoB;;;AAC3D,kBAA8BP,QAAQ,CAAC,IAAD,CAAtC;AAAA,MAAOQ,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAA0BT,QAAQ,EAAlC;AAAA,MAAOU,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA0BX,QAAQ,EAAlC;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAEA,MAAMU,gBAAgB,GAAGC,WAAW,CAAC;AACjCJ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,QAAQ,CAACG,SAAD,CAAR;AACAZ,IAAAA,QAAQ,CAACY,SAAD,CAAR;AAEAR,IAAAA,QAAQ,GACHS,IADL,CACUb,QADV,WAEWS,QAFX,aAGa;AAAA,aAAMF,UAAU,CAAC,KAAD,CAAhB;AAAA,KAHb;AAKH,GAVmC,EAUjCF,YAViC,CAApC;AAYAS,EAAAA,SAAS,CAAC;AACNJ,IAAAA,gBAAgB;AACnB,GAFQ,EAEN,CAACA,gBAAD,CAFM,CAAT;AAIA,SAAO;AAAEJ,IAAAA,OAAO,EAAPA,OAAF;AAAWE,IAAAA,KAAK,EAALA,KAAX;AAAkBT,IAAAA,KAAK,EAALA;AAAlB,GAAP;AACH;;ACrBD,IAAMgB,eAAe,GAAG;AACpBC,EAAAA,OAAO,EAAE;AAAE,oBAAgB;AAAlB;AADW,CAAxB;AAIA,SAAwBC,SAASC,KAAKC,SAAcd;MAAdc;AAAAA,IAAAA,UAAU;;;MAAId;AAAAA,IAAAA,eAAoB;;;AACpE,SAAOF,QAAQ,CAAC;AACZ,WAAOiB,KAAK,CAACF,GAAD,eAAWH,eAAX,EAA+BI,OAA/B,EAAL,CAA+CN,IAA/C,CAAoD,UAAAQ,GAAG;AAC1D,UAAIA,GAAG,CAACC,EAAR,EAAY,OAAOD,GAAG,CAACE,IAAJ,EAAP;AACZ,aAAOF,GAAG,CAACE,IAAJ,GAAWV,IAAX,CAAgB,UAAAU,IAAI;AAAA,eAAIC,OAAO,CAACC,MAAR,CAAeF,IAAf,CAAJ;AAAA,OAApB,CAAP;AACH,KAHM,CAAP;AAIH,GALc,EAKZlB,YALY,CAAf;AAMH;;SCZuBqB;AACpB,kBAAwC5B,QAAQ,CAAC,CAAC6B,SAAS,CAACC,MAAZ,CAAhD;AAAA,MAAOC,YAAP;AAAA,MAAqBC,eAArB;;AAEAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,UAAUC,CAAV;AAC9BH,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH,GAFD;AAIAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,UAAUC,CAAV;AAC/BH,IAAAA,eAAe,CAAC,IAAD,CAAf;AACH,GAFD;AAIA,SAAOD,YAAP;AACH;;ACZD,SAASK,mBAAT;AACI,gBAAmDH,MAAnD;AAAA,MAAoBI,KAApB,WAAQC,UAAR;AAAA,MAAwCC,MAAxC,WAA2BC,WAA3B;AAEA,SAAO;AACHC,IAAAA,QAAQ,EAAEJ,KAAK,IAAI,GADhB;AAEHK,IAAAA,QAAQ,EAAEL,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,GAFhC;AAGHM,IAAAA,QAAQ,EAAEN,KAAK,IAAI,GAAT,IAAgBA,KAAK,IAAI,IAHhC;AAIHO,IAAAA,SAAS,EAAEP,KAAK,IAAI,IAAT,IAAiBA,KAAK,IAAI,IAJlC;AAKHQ,IAAAA,YAAY,EAAER,KAAK,IAAI,IALpB;AAMHA,IAAAA,KAAK,EAALA,KANG;AAOHE,IAAAA,MAAM,EAANA;AAPG,GAAP;AASH;;AAED,SAAwBO;AACpB,kBAAgD9C,QAAQ,CAACoC,mBAAmB,EAApB,CAAxD;AAAA,MAAOW,gBAAP;AAAA,MAAyBC,mBAAzB;;AAEAhC,EAAAA,SAAS,CAAC;AACN,aAASiC,YAAT;AACID,MAAAA,mBAAmB,CAACZ,mBAAmB,EAApB,CAAnB;AACH;;AAEDH,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCe,YAAlC;AACA,WAAO;AAAA,aAAMhB,MAAM,CAACiB,mBAAP,CAA2B,QAA3B,EAAqCD,YAArC,CAAN;AAAA,KAAP;AACH,GAPQ,EAON,EAPM,CAAT;AASA,SAAOF,gBAAP;AACH;;SC1BuBI,UAAU/B;AAC9B,SAAOf,QAAQ,CAAC;AACZ,QAAM+C,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,IAAAA,MAAM,CAACG,GAAP,GAAanC,GAAb;AACAgC,IAAAA,MAAM,CAACI,KAAP,GAAe,IAAf;AAEA,WAAO,IAAI9B,OAAJ,CAAY,UAAC+B,OAAD,EAAU9B,MAAV;AACfyB,MAAAA,MAAM,CAAClB,gBAAP,CAAwB,MAAxB,EAAgCuB,OAAhC;AACAL,MAAAA,MAAM,CAAClB,gBAAP,CAAwB,OAAxB,EAAiCP,MAAjC;AAEA0B,MAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,MAA1B;AACH,KALM,CAAP;AAMH,GAXc,EAWZ,CAAChC,GAAD,CAXY,CAAf;AAYH;;SCduBwC,iBACpBC,WACAvD,UACAwD;MAAAA;AAAAA,IAAAA,UAAU7B;;;AAEV,MAAM8B,WAAW,GAAGC,MAAM,CAAC1D,QAAD,CAA1B;AAEAU,EAAAA,SAAS,CAAC;AACN+C,IAAAA,WAAW,CAACE,OAAZ,GAAsB3D,QAAtB;AACH,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIAU,EAAAA,SAAS,CAAC;AACN,QAAMkD,OAAO,GAAG,SAAVA,OAAU,CAAA/B,CAAC;AAAA,aAAI4B,WAAW,CAACE,OAAZ,CAAoB9B,CAApB,CAAJ;AAAA,KAAjB;;AACA2B,IAAAA,OAAO,CAAC5B,gBAAR,CAAyB2B,SAAzB,EAAoCK,OAApC;AAEA,WAAO;AAAA,aAAMJ,OAAO,CAACZ,mBAAR,CAA4BW,SAA5B,EAAuCK,OAAvC,CAAN;AAAA,KAAP;AACH,GALQ,EAKN,CAACL,SAAD,EAAYC,OAAZ,CALM,CAAT;AAMH;;SCjBuBK,YAAYC,KAAKC;MAAAA;AAAAA,IAAAA,aAAa;;;AAElD,kBAAkCrE,QAAQ,CAAC,KAAD,CAA1C;AAAA,MAAOsE,SAAP;AAAA,MAAkBC,YAAlB;;AAEAvD,EAAAA,SAAS,CAAC;AACN,QAAIoD,GAAG,CAACH,OAAJ,IAAe,IAAnB,EAAyB;AAEzB,QAAMO,QAAQ,GAAG,IAAIC,oBAAJ,CACb;AAAA,UAAEC,KAAF;AAAA,aAAaH,YAAY,CAACG,KAAK,CAACC,cAAP,CAAzB;AAAA,KADa,EACoC;AAAEN,MAAAA,UAAU,EAAVA;AAAF,KADpC,CAAjB;AAIAG,IAAAA,QAAQ,CAACI,OAAT,CAAiBR,GAAG,CAACH,OAArB;AAEA,WAAO;AACH,UAAIG,GAAG,CAACH,OAAJ,IAAe,IAAnB,EAAyB;AACzBO,MAAAA,QAAQ,CAACK,SAAT,CAAmBT,GAAG,CAACH,OAAvB;AACH,KAHD;AAKH,GAdQ,EAcN,CAACG,GAAG,CAACH,OAAL,EAAcI,UAAd,CAdM,CAAT;AAgBA,SAAOC,SAAP;AACH;;SCrBuBQ,WAAWxE,UAAUyE;AACzC,MAAMhB,WAAW,GAAGC,MAAM,CAAC1D,QAAD,CAA1B;AACA,MAAM0E,UAAU,GAAGhB,MAAM,EAAzB;AAEAhD,EAAAA,SAAS,CAAC;AACN+C,IAAAA,WAAW,CAACE,OAAZ,GAAsB3D,QAAtB;AACH,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIA,MAAM2E,GAAG,GAAGpE,WAAW,CAAC;AACpBmE,IAAAA,UAAU,CAACf,OAAX,GAAqBiB,UAAU,CAAC;AAAA,aAAMnB,WAAW,CAACE,OAAZ,EAAN;AAAA,KAAD,EAA8Bc,KAA9B,CAA/B;AACH,GAFsB,EAEpB,CAACA,KAAD,CAFoB,CAAvB;AAIA,MAAMI,KAAK,GAAGtE,WAAW,CAAC;AACtBmE,IAAAA,UAAU,CAACf,OAAX,IAAsBmB,YAAY,CAACJ,UAAU,CAACf,OAAZ,CAAlC;AACH,GAFwB,EAEtB,EAFsB,CAAzB;AAIAjD,EAAAA,SAAS,CAAC;AACNiE,IAAAA,GAAG;AACH,WAAOE,KAAP;AACH,GAHQ,EAGN,CAACJ,KAAD,EAAQE,GAAR,EAAaE,KAAb,CAHM,CAAT;AAKA,MAAME,KAAK,GAAGxE,WAAW,CAAC;AACtBsE,IAAAA,KAAK;AACLF,IAAAA,GAAG;AACN,GAHwB,EAGtB,CAACE,KAAD,EAAQF,GAAR,CAHsB,CAAzB;AAKA,SAAO;AAAEI,IAAAA,KAAK,EAALA,KAAF;AAASF,IAAAA,KAAK,EAALA;AAAT,GAAP;AACH;;SC1BuBG,YAAYhF,UAAUyE,OAAOxE;AACjD,oBAAyBuE,UAAU,CAACxE,QAAD,EAAWyE,KAAX,CAAnC;AAAA,MAAQM,KAAR,eAAQA,KAAR;AAAA,MAAeF,KAAf,eAAeA,KAAf;;AACAnE,EAAAA,SAAS,CAACqE,KAAD,YAAY9E,YAAZ,GAA0B8E,KAA1B,GAAT;AACArE,EAAAA,SAAS,CAACmE,KAAD,EAAQ,EAAR,CAAT;AACH;;SCLuBI,gBAAgBjF,UAAUC;AAC9C,MAAMiF,gBAAgB,GAAGxB,MAAM,CAAC,IAAD,CAA/B;AAEAhD,EAAAA,SAAS,CAAC;AACN,QAAIwE,gBAAgB,CAACvB,OAArB,EAA8B;AAC1BuB,MAAAA,gBAAgB,CAACvB,OAAjB,GAA2B,KAA3B;AACA;AACH;;AACD,WAAO3D,QAAQ,EAAf;AACH,GANQ,EAMN,CAACC,YAAD,CANM,CAAT;AAOH;;SCVuBkF,SAAS1F;AAC7B,kBAA0BC,QAAQ,CAACD,YAAD,CAAlC;AAAA,MAAO2F,KAAP;AAAA,MAAcC,QAAd;;AAEA,WAASC,IAAT,CAAc9B,OAAd;AACI6B,IAAAA,QAAQ,CAAC,UAAAE,CAAC;AAAA,uBAAQA,CAAR,GAAW/B,OAAX;AAAA,KAAF,CAAR;AACH;;AAED,WAASgC,MAAT,CAAgBxF,QAAhB;AACIqF,IAAAA,QAAQ,CAAC,UAAAE,CAAC;AAAA,aAAIA,CAAC,CAACC,MAAF,CAASxF,QAAT,CAAJ;AAAA,KAAF,CAAR;AACH;;AAED,WAASyF,MAAT,CAAgBC,KAAhB,EAAuBC,UAAvB;AACIN,IAAAA,QAAQ,CAACD,KAAK,CAACQ,MAAN,CAAaF,KAAb,EAAoB,CAApB,EAAuBC,UAAvB,eAA0CP,KAA1C,CAAD,CAAR;AACH;;AAED,WAASS,MAAT,CAAgBH,KAAhB;AACIL,IAAAA,QAAQ,CAACD,KAAK,CAACI,MAAN,CAAa,UAACM,CAAD,EAAIC,CAAJ;AAAA,aAAUL,KAAK,KAAKK,CAApB;AAAA,KAAb,CAAD,CAAR;AACH;;AAED,WAASlB,KAAT;AACIQ,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACH;;AAED,SAAO;AAAED,IAAAA,KAAK,EAALA,KAAF;AAAST,IAAAA,GAAG,EAAEU,QAAd;AAAwBC,IAAAA,IAAI,EAAJA,IAAxB;AAA8BE,IAAAA,MAAM,EAANA,MAA9B;AAAsCC,IAAAA,MAAM,EAANA,MAAtC;AAA8CI,IAAAA,MAAM,EAANA,MAA9C;AAAsDhB,IAAAA,KAAK,EAALA;AAAtD,GAAP;AACH;;SCxBuBmB,YAAYrG;AAEhC,MAAMsG,UAAU,GAAGvC,MAAM,CAAC/D,KAAD,CAAzB;AACA,MAAMuG,WAAW,GAAGxC,MAAM,EAA1B;;AAEA,MAAIuC,UAAU,CAACtC,OAAX,KAAuBhE,KAA3B,EAAkC;AAC9BuG,IAAAA,WAAW,CAACvC,OAAZ,GAAsBsC,UAAU,CAACtC,OAAjC;AACAsC,IAAAA,UAAU,CAACtC,OAAX,GAAqBhE,KAArB;AACH;;AACD,SAAOuG,WAAW,CAACvC,OAAnB;AACH;;SCVuBwC,oBACpB1G;gCACoB;2BAAlB2G;MAAAA,sCAAW;;AAEb,kBAA0B1G,QAAQ,CAACD,YAAD,CAAlC;AAAA,MAAOE,KAAP;AAAA,MAAcC,QAAd;;AACA,MAAMyG,UAAU,GAAG3C,MAAM,CAAC,CAAC/D,KAAD,CAAD,CAAzB;AACA,MAAM2G,UAAU,GAAG5C,MAAM,CAAC,CAAD,CAAzB;AAEA,MAAMiB,GAAG,GAAGpE,WAAW,CACnB,UAACgG,CAAD;AACI,QAAMC,aAAa,GAAG,OAAOD,CAAP,KAAa,UAAb,GAA0BA,CAAC,CAAC5G,KAAD,CAA3B,GAAqC4G,CAA3D;;AACA,QAAIF,UAAU,CAAC1C,OAAX,CAAmB2C,UAAU,CAAC3C,OAA9B,MAA2C6C,aAA/C,EAA8D;AAC1D,UAAIF,UAAU,CAAC3C,OAAX,GAAqB0C,UAAU,CAAC1C,OAAX,CAAmB8C,MAAnB,GAA4B,CAArD,EAAwD;AACpDJ,QAAAA,UAAU,CAAC1C,OAAX,CAAmBiC,MAAnB,CAA0BU,UAAU,CAAC3C,OAAX,GAAqB,CAA/C;AACH;;AACD0C,MAAAA,UAAU,CAAC1C,OAAX,CAAmB2B,IAAnB,CAAwBkB,aAAxB;;AAEA,aAAOH,UAAU,CAAC1C,OAAX,CAAmB8C,MAAnB,GAA4BL,QAAnC,EAA6C;AACzCC,QAAAA,UAAU,CAAC1C,OAAX,CAAmB+C,KAAnB;AACH;;AACDJ,MAAAA,UAAU,CAAC3C,OAAX,GAAqB0C,UAAU,CAAC1C,OAAX,CAAmB8C,MAAnB,GAA4B,CAAjD;AACH;;AACD7G,IAAAA,QAAQ,CAAC4G,aAAD,CAAR;AACH,GAfkB,EAgBnB,CAACJ,QAAD,EAAWzG,KAAX,CAhBmB,CAAvB;AAmBA,MAAMgH,IAAI,GAAGpG,WAAW,CAAC;AACrB,QAAI+F,UAAU,CAAC3C,OAAX,IAAsB,CAA1B,EAA6B;AAC7B2C,IAAAA,UAAU,CAAC3C,OAAX;AACA/D,IAAAA,QAAQ,CAACyG,UAAU,CAAC1C,OAAX,CAAmB2C,UAAU,CAAC3C,OAA9B,CAAD,CAAR;AACH,GAJuB,EAIrB,EAJqB,CAAxB;AAMA,MAAMiD,OAAO,GAAGrG,WAAW,CAAC;AACxB,QAAI+F,UAAU,CAAC3C,OAAX,IAAsB0C,UAAU,CAAC1C,OAAX,CAAmB8C,MAAnB,GAA4B,CAAtD,EAAyD;AACzDH,IAAAA,UAAU,CAAC3C,OAAX;AACA/D,IAAAA,QAAQ,CAACyG,UAAU,CAAC1C,OAAX,CAAmB2C,UAAU,CAAC3C,OAA9B,CAAD,CAAR;AACH,GAJ0B,EAIxB,EAJwB,CAA3B;AAMA,MAAMkD,EAAE,GAAGtG,WAAW,CAAC,UAACmF,KAAD;AACnB,QAAIA,KAAK,GAAG,CAAR,IAAaA,KAAK,IAAIW,UAAU,CAAC1C,OAAX,CAAmB8C,MAAnB,GAA4B,CAAtD,EAAyD;AACzDH,IAAAA,UAAU,CAAC3C,OAAX,GAAqB+B,KAArB;AACA9F,IAAAA,QAAQ,CAACyG,UAAU,CAAC1C,OAAX,CAAmB2C,UAAU,CAAC3C,OAA9B,CAAD,CAAR;AACH,GAJqB,EAInB,EAJmB,CAAtB;AAMA,SAAO,CACHhE,KADG,EAEHgF,GAFG,EAGH;AACImC,IAAAA,OAAO,EAAET,UAAU,CAAC1C,OADxB;AAEIoD,IAAAA,OAAO,EAAET,UAAU,CAAC3C,OAFxB;AAGIgD,IAAAA,IAAI,EAAJA,IAHJ;AAIIC,IAAAA,OAAO,EAAPA,OAJJ;AAKIC,IAAAA,EAAE,EAAFA;AALJ,GAHG,CAAP;AAWH;;SCxDeG,gBAAgBC,KAAaxH;AACzC,SAAOyH,UAAU,CAACD,GAAD,EAAMxH,YAAN,EAAoBkC,MAAM,CAACwF,YAA3B,CAAjB;AACH;AAED,SAAgBC,kBAAkBH,KAAaxH;AAC3C,SAAOyH,UAAU,CAACD,GAAD,EAAMxH,YAAN,EAAoBkC,MAAM,CAAC0F,cAA3B,CAAjB;AACH;;AAED,SAASH,UAAT,CAAoBD,GAApB,EAAiCxH,YAAjC,EAAoD6H,aAApD;AAEI,kBAA0B5H,QAAQ,CAAC;AAC/B,QAAM6H,SAAS,GAAGD,aAAa,CAACE,OAAd,CAAsBP,GAAtB,CAAlB;AACA,QAAIM,SAAS,KAAK,IAAlB,EAAwB,OAAOE,IAAI,CAACC,KAAL,CAAWH,SAAX,CAAP;;AAExB,QAAI,OAAOA,SAAP,KAAqB,UAAzB,EAAqC;AACjC,aAAO9H,YAAY,EAAnB;AACH,KAFD,MAEO;AACH,aAAOA,YAAP;AACH;AACJ,GATiC,CAAlC;AAAA,MAAOE,KAAP;AAAA,MAAcC,QAAd;;AAWAc,EAAAA,SAAS,CAAC;AACN,QAAIf,KAAK,KAAKa,SAAd,EAAyB,OAAO8G,aAAa,CAACK,UAAd,CAAyBV,GAAzB,CAAP;AACzBK,IAAAA,aAAa,CAACM,OAAd,CAAsBX,GAAtB,EAA2BQ,IAAI,CAACI,SAAL,CAAelI,KAAf,CAA3B;AACH,GAHQ,EAGN,CAACsH,GAAD,EAAMtH,KAAN,EAAa2H,aAAb,CAHM,CAAT;AAMA,MAAMzB,MAAM,GAAGtF,WAAW,CAAC;AACvBX,IAAAA,QAAQ,CAACY,SAAD,CAAR;AACH,GAFyB,EAEvB,EAFuB,CAA1B;AAIA,SAAO,CAACb,KAAD,EAAQC,QAAR,EAAkBiG,MAAlB,CAAP;AAEH;;;;"}